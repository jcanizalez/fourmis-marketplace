---
name: a11y
description: Audit a file, component, or page for accessibility issues — checks WCAG compliance, ARIA usage, keyboard support, and screen reader compatibility
allowed-tools: Read, Glob, Grep, Bash
---

# /a11y — Accessibility Audit

Run an accessibility audit on code files, components, or an entire project.

## Usage

```
/a11y                         # Audit current project (scan all HTML/JSX/TSX files)
/a11y src/components/modal.tsx # Audit a specific component
/a11y src/app/               # Audit all files in a directory
/a11y --level aa              # Target conformance level (a, aa, aaa)
```

## Audit Workflow

1. **Scan files**: Read the target file(s) and identify all HTML/JSX/TSX content
2. **Check each category**:
   - **Images**: Alt text present and descriptive (not "image" or filename)
   - **Forms**: All inputs have labels, error states have `aria-invalid` + description
   - **Headings**: Hierarchy is sequential (h1 → h2 → h3, no skips)
   - **Links**: Link text is descriptive (no "click here", "read more" without context)
   - **Color**: Color is not the sole indicator (check for text/icon alternatives)
   - **Keyboard**: Interactive elements use native HTML or have `tabindex`, `onKeyDown`
   - **ARIA**: Roles are valid, `aria-*` attributes are correct, no redundant ARIA
   - **Focus**: Focus styles defined, no `outline: none` without replacement
   - **Language**: `<html lang="...">` is set
   - **Landmarks**: Page has `<main>`, navigation uses `<nav>`, etc.

3. **Report findings** in a structured table:

```
## Accessibility Audit Report

| # | Severity | Rule | File:Line | Issue | Fix |
|---|----------|------|-----------|-------|-----|
| 1 | Critical | 1.1.1 | modal.tsx:24 | `<img>` missing alt text | Add descriptive alt attribute |
| 2 | Serious  | 2.4.7 | button.css:8 | `outline: none` removes focus indicator | Replace with custom `:focus-visible` style |
| 3 | Moderate | 2.4.4 | nav.tsx:12 | Link text "Click here" is not descriptive | Use "View documentation" instead |

### Summary
- Critical: 1 issue (blocks access)
- Serious: 2 issues (degrades experience)
- Moderate: 3 issues (minor impact)
- WCAG Level: Partially AA compliant
```

## Severity Levels

| Level | Description | Action |
|-------|-------------|--------|
| **Critical** | Blocks access for some users entirely | Must fix immediately |
| **Serious** | Significantly degrades the experience | Fix before shipping |
| **Moderate** | Minor impact, workarounds exist | Fix in next sprint |
| **Minor** | Best practice, doesn't block access | Fix when convenient |

## What This Command Checks

### Level A (Minimum)
- [ ] All images have alt text
- [ ] All form inputs have labels
- [ ] No keyboard traps
- [ ] Page has `lang` attribute
- [ ] Color is not the only way to convey info
- [ ] All interactive elements are keyboard accessible

### Level AA (Standard — check these too)
- [ ] Text contrast ≥ 4.5:1 (normal), ≥ 3:1 (large)
- [ ] Focus indicator is visible
- [ ] Heading hierarchy is sequential
- [ ] Link purpose is clear from text
- [ ] Page has skip navigation
- [ ] Error messages describe what went wrong

### Level AAA (Enhanced — when specified)
- [ ] Text contrast ≥ 7:1
- [ ] No all-caps text blocks
- [ ] Reading level is accessible
- [ ] No timing constraints
